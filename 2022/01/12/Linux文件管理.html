<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Linux文件管理</title>
    <script type="text/javascript" src="/assets/js/prism.js"></script>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
    <script type="text/javascript" src="/assets/js/jquery-3.6.0.js"></script>
    <script src="/assets/js/scrollnav.min.umd.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <div class="clearfloat">
        <nav class="navbar">
    <!-- <a href="/" >
        Home
    </a>
    <a href="/about.html" >
        About
    </a> -->
    
        <!-- <a href="https://github.com/Zhniing"  target="_self"> -->
        <a href="https://github.com/Zhniing" target="_blank">
            Github
        </a>
    
        <!-- <a href="/about.html"  target="_self"> -->
        <a href="/about.html" target="_self">
            About
        </a>
    
        <!-- <a href="/games/hiker"  target="_self"> -->
        <a href="/games/hiker" target="_self">
            Game
        </a>
    
        <!-- <a href="/"  target="_self"> -->
        <a href="/" target="_self">
            Home
        </a>
    
</nav>
      </div>
      <base target="_blank"> <!-- 仅post页面的a标签为_blank -->

<h1>Linux文件管理</h1>
<!-- <p>Posted on 12 Jan 2022, Last updated: </p> -->
<!-- <p>发表于 2022 年 01 月 12 日 | 更新于 </p> -->
<p>发布于 2022 年 01 月 12 日  | 更新于 2022 年 08 月 18 日 </p>

<div class="post_content">
    <h1 id="软件的安装方式及位置">软件的安装方式及位置</h1>

<p><code class="language-plaintext highlighter-rouge">man hier</code>文件系统层级 (filesystem hierarchy) 的简短说明</p>

<h2 id="1-通过包管理器安装">1. 通过包管理器安装</h2>

<p>软件仓库分发的软件，需要使用包管理器(apt)来安装，通常被安装到<code class="language-plaintext highlighter-rouge">/usr</code>目录</p>

<p>UNIX将一个软件的可执行程序(binary)和所需的库(library)<strong>分开存放</strong>，这样做的好处是：</p>

<ul>
  <li>将可执行文件集中起来(/usr/bin)，只需在<code class="language-plaintext highlighter-rouge">PATH</code>中添加一个目录，就能调用目录内的所有程序；否则所有程序分散在各个目录，全部添加到<code class="language-plaintext highlighter-rouge">PATH</code>中会非常混乱（感觉Windows就是这种方式）</li>
  <li>将库文件集中起来有利于库文件复用（多个程序共享同个库），避免重复安装</li>
</ul>

<h2 id="2-编译源码">2. 编译源码</h2>

<p>通常放在<code class="language-plaintext highlighter-rouge">/usr/local</code>下，目录结构类似<code class="language-plaintext highlighter-rouge">/usr</code>，将各种文件 (bin, lib, …) <strong>分开存放</strong></p>

<h2 id="3-用户脚本">3. 用户脚本</h2>

<p>单个可执行程序、脚本，可以放在<code class="language-plaintext highlighter-rouge">~/.local/bin</code>或<code class="language-plaintext highlighter-rouge">/usr/local/bin</code>目录</p>

<h2 id="4-解压即用">4. 解压即用</h2>

<p>这类软件通常将所需的可执行文件(binary)和库(library)都放在<strong>同一目录</strong></p>

<p>建议将这类软件（文件夹）放到<code class="language-plaintext highlighter-rouge">/opt</code>目录下，然后软链到合适的bin目录 (<code class="language-plaintext highlighter-rouge">~/.local/bin</code>、<code class="language-plaintext highlighter-rouge">/usr/local/bin</code>等)</p>

<h2 id="总结">总结</h2>

<p><code class="language-plaintext highlighter-rouge">/usr</code>用来存放软件仓库统一分发的软件</p>

<p>从源码编译的软件通常放在<code class="language-plaintext highlighter-rouge">/usr/local</code>，其目录结构与<code class="language-plaintext highlighter-rouge">/usr</code>类似</p>

<p><code class="language-plaintext highlighter-rouge">/opt/&lt;company&gt;/&lt;application&gt;</code>存放已经编译好的完整文件夹，即所需的可执行文件(binary)和库(library)都在一个文件夹里，不依赖外部的库就能运行，不同程序相互独立</p>

<p>为零散的可执行程序创建软链，并放到<code class="language-plaintext highlighter-rouge">~/.local/bin</code>或<code class="language-plaintext highlighter-rouge">/usr/local/bin</code>目录，然后将上述目录添加到<code class="language-plaintext highlighter-rouge">PATH</code>，就能快速调用</p>

<h2 id="参考">参考</h2>

<p><a href="https://www.baeldung.com/linux/opt-directory#usrlocal-vs-opt"><em>/usr/local</em> vs <em>/opt</em></a></p>

<p><a href="https://unix.stackexchange.com/a/8658">/usr/bin vs /usr/local/bin on Linux</a></p>

<p><a href="https://www.baeldung.com/linux/opt-directory#using-opt">Using /opt</a></p>

</div>
    </div>
    <script>
      const ct = document.querySelector('.post_content');  //".post-content"指向文章内容所在的div，需根据实际情况修改
      scrollnav.init(ct, {
          debug: false,
          easingStyle: 'linear',
          //section为一级目录，subsection为二级目录
          sections: ($('.post_content > h1').length>0) ? 'h1' : 'h2',
          subSections: ($('.post_content > h1').length>0) ? 'h2' : 'h3',
      });
    </script>
    <script type="text/javascript">
      $('pre').addClass("line-numbers").css("white-space", "pre-wrap");
    </script>
  </body>
</html>
