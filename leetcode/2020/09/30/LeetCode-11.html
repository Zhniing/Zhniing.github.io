<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Leetcode 11</title>
    <script type="text/javascript" src="/assets/js/prism.js"></script>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
    <script type="text/javascript" src="/assets/js/jquery-3.6.0.js"></script>
    <script src="/assets/js/scrollnav.min.umd.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <div class="clearfloat">
        <nav class="navbar">
    <!-- <a href="/" >
        Home
    </a>
    <a href="/about.html" >
        About
    </a> -->
    
        <!-- <a href="https://github.com/Zhniing"  target="_self"> -->
        <a href="https://github.com/Zhniing" target="_blank">
            Github
        </a>
    
        <!-- <a href="/about.html"  target="_self"> -->
        <a href="/about.html" target="_self">
            About
        </a>
    
        <!-- <a href="/games/hiker"  target="_self"> -->
        <a href="/games/hiker" target="_self">
            Game
        </a>
    
        <!-- <a href="/"  target="_self"> -->
        <a href="/" target="_self">
            Home
        </a>
    
</nav>
      </div>
      <base target="_blank"> <!-- 仅post页面的a标签为_blank -->

<h1>Leetcode 11</h1>
<!-- <p>Posted on 30 Sep 2020, Last updated: </p> -->
<!-- <p>发表于 2020 年 09 月 30 日 | 更新于 </p> -->
<p>发布于 2020 年 09 月 30 日  | 更新于 2021 年 08 月 17 日 </p>

<div class="post_content">
    <h1 id="盛最多水的容器">盛最多水的容器</h1>

<blockquote>
  <p>题解 <a href="https://leetcode-cn.com/problems/container-with-most-water/solution/sheng-zui-duo-shui-de-rong-qi-by-leetcode-solution/">https://leetcode-cn.com/problems/container-with-most-water/solution/sheng-zui-duo-shui-de-rong-qi-by-leetcode-solution/</a></p>
</blockquote>

<p><strong>关键词</strong>： 数组 双指针</p>

<h2 id="整体思路">整体思路</h2>

<p>用两个指针，从数组两头开始往中间靠拢，计算出遍历过程中最大的面积</p>

<h2 id="我的思路">我的思路</h2>

<p><strong>每次同时移动两个指针</strong></p>

<ol>
  <li>对于左右两个指针，先分别找到下一个更高的新指针</li>
  <li>
    <p>计算三个面积：</p>

    <ul>
      <li>两个新指针分别与对面的旧指针之间<code class="language-plaintext highlighter-rouge">i和nj</code> <code class="language-plaintext highlighter-rouge">j和ni</code>
</li>
      <li>两个新指针之间<code class="language-plaintext highlighter-rouge">ni和nj</code>
</li>
    </ul>
  </li>
  <li>保留最大值</li>
  <li>循环，两个指针重合时结束</li>
</ol>

<p>规定<strong>移动限制</strong></p>

<ul>
  <li>当找不到下一个更高的指针时，规定该指针不再去寻找（不再遍历）</li>
  <li>当对面的新指针不比该指针高时，不移动该指针</li>
  <li>当左右两个指针都规定停止移动时，结束</li>
</ul>

<p>好像这样规定后，实际做的操作就和<strong>每次移动较矮的指针</strong>几乎一致。。。</p>

<p>（陷入了思维误区，遍历一遍n并不算暴力解法？）</p>

<h2 id="题解思路">题解思路</h2>

<p><strong>每次移动较矮的指针</strong></p>

<ol>
  <li>较矮的指针，移动一格（感觉可以一次性移动到下一个更高的位置？）</li>
  <li>计算面积</li>
  <li>保留最大值</li>
  <li>循环，两个指针重合时结束</li>
</ol>

<h2 id="总结">总结</h2>

<p>感觉就是自己想复杂了。。。同时移两边肯定比移一边更麻烦。仔细想想不管同时移几个，都是在相遇的时候停止，所以时间应该是一样的。所以每次移一边更容易理解和清晰地思考，也更容易实现。</p>

<p><del>每次移动一个较矮的指针在逻辑和编程方面更清晰，容易理解，而同时移动两个指针，就需要规定（设置）很多<strong>移动限制</strong>，相对来说理解和实现起来更复杂。然而两者的时间复杂度<em>O(N)</em>和空间复杂度<em>O(1)</em>都是一样的，因此后者更好。</del></p>

<h2 id="代码">代码</h2>

<p>感觉测试样例不是固定的，相同代码多次提交运行时间差很多（8 ms，20 ms），内存消耗也有变化</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 我的代码</span>
<span class="c1">// 不知道为什么会超时！ 感觉时间复杂度也是O(N)吧</span>
<span class="c1">// 超时是因为犯了个低级错误，把stop_i的定义写在了循环里面。。。</span>
<span class="c1">// 推测超时原因：跑有序样例时，未记录stop_i，导致最大的那头指针反复遍历整个数组，造成超时</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">get_area</span><span class="p">(</span><span class="kt">int</span> <span class="n">hi</span><span class="p">,</span> <span class="kt">int</span> <span class="n">hj</span><span class="p">,</span> <span class="kt">int</span> <span class="n">d</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="n">hi</span> <span class="o">&lt;</span> <span class="n">hj</span> <span class="o">?</span> <span class="n">hi</span> <span class="o">:</span> <span class="n">hj</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">h</span> <span class="o">*</span> <span class="n">d</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">height</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">tmp</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmp</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">tmp</span> <span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        <span class="n">height</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">tmp</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// begin</span>
    <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">height</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">len</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">tmp</span> <span class="o">=</span> <span class="n">get_area</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="p">);</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&gt;</span> <span class="n">ans</span> <span class="o">?</span> <span class="n">tmp</span> <span class="o">:</span> <span class="n">ans</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">stop_i</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">stop_j</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">do</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ni</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">nj</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
        <span class="c1">// bool stop_i = false;</span>
        <span class="c1">// bool stop_j = false;</span>
        <span class="k">while</span> <span class="p">(</span> <span class="o">!</span><span class="n">stop_i</span> <span class="o">&amp;&amp;</span> <span class="o">++</span><span class="n">ni</span> <span class="o">&lt;</span> <span class="n">len</span> <span class="o">&amp;&amp;</span> <span class="n">height</span><span class="p">[</span><span class="n">ni</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>  <span class="c1">// 找到下一个大于i的值</span>
        <span class="k">while</span> <span class="p">(</span> <span class="o">!</span><span class="n">stop_j</span> <span class="o">&amp;&amp;</span> <span class="o">--</span><span class="n">nj</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">height</span><span class="p">[</span><span class="n">nj</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">height</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  <span class="c1">// 找到下一个大于i的值</span>
        <span class="c1">// 矮的一定能找到，高的不一定能找到</span>
        <span class="c1">// 如果能找到ni_j，则必定ni &lt;= nj 反证法</span>
        <span class="c1">// if ( ni &gt;= len || nj &lt; 0 )</span>
        <span class="c1">// {</span>
        <span class="c1">//     if ( ni &gt;= len ) stop_i = true;</span>
        <span class="c1">//     if ( nj &lt; 0 ) stop_j = true;</span>
        <span class="c1">//     ni = ni &gt;= len ? i : ni;</span>
        <span class="c1">//     nj = nj &lt; 0 ? j : nj;</span>
        <span class="c1">//     tmp = get_area(height[ni], height[nj], nj-ni);</span>
        <span class="c1">//     ans = ans &gt; tmp ? ans : tmp;</span>
        <span class="c1">// }</span>

        <span class="k">if</span> <span class="p">(</span> <span class="n">ni</span> <span class="o">&gt;=</span> <span class="n">len</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">stop_i</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="n">ni</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">nj</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">stop_j</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="n">nj</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// 计算四个面积</span>
        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">stop_i</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">stop_j</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">get_area</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">ni</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">nj</span><span class="p">],</span> <span class="n">nj</span><span class="o">-</span><span class="n">ni</span><span class="p">);</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&gt;</span> <span class="n">ans</span> <span class="o">?</span> <span class="n">tmp</span> <span class="o">:</span> <span class="n">ans</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">stop_j</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">get_area</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">nj</span><span class="p">],</span> <span class="n">nj</span><span class="o">-</span><span class="n">i</span><span class="p">);</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&gt;</span> <span class="n">ans</span> <span class="o">?</span> <span class="n">tmp</span> <span class="o">:</span> <span class="n">ans</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">stop_i</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">get_area</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">ni</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">j</span><span class="o">-</span><span class="n">ni</span><span class="p">);</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&gt;</span> <span class="n">ans</span> <span class="o">?</span> <span class="n">tmp</span> <span class="o">:</span> <span class="n">ans</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">[</span><span class="n">nj</span><span class="p">]</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">ni</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">height</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">[</span><span class="n">ni</span><span class="p">]</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">nj</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">stop_i</span> <span class="o">&amp;&amp;</span> <span class="n">stop_j</span> <span class="p">)</span> <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="p">);</span>
    <span class="c1">// end</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 题解代码</span>
<span class="c1">// 时间复杂度O(N) 遍历数组一次 （O(N)不算暴力吗。。。）</span>
<span class="c1">// 空间复杂度O(1) 常数级的空间（数组大小）</span>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">maxArea</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">height</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">area</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span><span class="p">);</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">area</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">])</span> <span class="p">{</span>
                <span class="o">++</span><span class="n">l</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="o">--</span><span class="n">r</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

</div>
    </div>
    <script>
      const ct = document.querySelector('.post_content');  //".post-content"指向文章内容所在的div，需根据实际情况修改
      scrollnav.init(ct, {
          debug: false,
          easingStyle: 'linear',
          //section为一级目录，subsection为二级目录
          sections: ($('.post_content > h1').length>0) ? 'h1' : 'h2',
          subSections: ($('.post_content > h1').length>0) ? 'h2' : 'h3',
      });
    </script>
    <script type="text/javascript">
      $('pre').addClass("line-numbers").css("white-space", "pre-wrap");
    </script>
  </body>
</html>
